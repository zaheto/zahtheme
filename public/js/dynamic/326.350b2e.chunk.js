"use strict";(self.webpackChunk_roots_bud_sage_sage=self.webpackChunk_roots_bud_sage_sage||[]).push([[326],{"./scripts/atlas-calculator.js":(a,t,e)=>{e.r(t),jQuery(document).ready((function(a){a("#atlas-calculator-results").hide(),a(".required-materials--toggle-link").on("click",(function(t){t.preventDefault();const e=a(this).closest(".mt-8").find('[id$="calculator-results"]'),l=a(this).find(".toggle-icon");e.slideToggle(300,(function(){l.text(a(this).is(":visible")?"-":"+")}))}));const t=a(".price"),e=a("button.single_add_to_cart_button"),l=a("#atlas-panel-width"),i=a("#atlas-panel-height"),s=a("#atlas-number-of-panels"),n=a(".main-product-sizes__item.selected");if(n.length){const a=n.data("l"),t=n.data("h"),e=n.data("panels")||1;l.val(a),i.val(t).trigger("change"),s.val(e)}function r(){const a=parseFloat(l.val()),t=parseFloat(i.val()),e=parseInt(s.val());return!isNaN(a)&&!isNaN(t)&&!isNaN(e)&&a>=parseFloat(l.attr("min"))&&a<=parseFloat(l.attr("max"))&&e>0}function o(){if(!r())return;let n=parseFloat(l.val()),o=parseFloat(i.val()),p=parseInt(s.val());try{const l=n.toFixed(2),i=(Math.floor(1e3*o)/1e3).toFixed(3);let s=Math.max((o-.045)/.1*p,0),r=Math.max((n-.01)*s,0),c=p,d=o*p,u=p,_=o*p,h=p,g=n*p,F=0;n>1.29&&n<2.1?F=1:n>2.09&&(F=2);let f=F,m=o*F*p,v=0;if(p>0){let a=0;0==F?a=4*(s/p+1)*p:1==F?a=5*(s/p+1)*p:2==F&&(a=6*(s/p+1)*p),v=100*Math.ceil((a+2*F)/p/100)*p}let x=10*p,$=10*p+F*p,b=F*p,w=parseFloat(atlas_pricing.base_price)*r;w+=d*parseFloat(atlas_pricing.price_u_profile_left||0),w+=_*parseFloat(atlas_pricing.price_u_profile_right||0),w+=g*parseFloat(atlas_pricing.price_u_horizontal_panel||0),w+=m*parseFloat(atlas_pricing.price_reinforcing_profile||0),w+=v*parseFloat(atlas_pricing.price_rivets||0),w+=x*parseFloat(atlas_pricing.price_self_tapping_screw||0),w+=$*parseFloat(atlas_pricing.price_dowels||0),w+=b*parseFloat(atlas_pricing.price_corners||0),t.html(`<span class="woocommerce-Price-amount amount"> \n                <bdi>\u041a\u0440\u0430\u0439\u043d\u0430 \u0446\u0435\u043d\u0430: ${w.toFixed(2)}&nbsp;<span class="woocommerce-Price-currencySymbol">\u043b\u0432.</span></bdi>\n            </span>`),a("#calculated_price").val(w.toFixed(2)),a("#atlas_panel_width").val(l),a("#atlas_panel_height").val(i),a("#atlas_number_of_panels").val(p),e.attr("data-calculated-price",w.toFixed(2)),e.attr("data-panel-width",l),e.attr("data-panel-height",i),e.attr("data-panels",p);const k=a("#atlas-calculator-results");k.hasClass("hidden")||k.show(),e.attr("data-calculated-price",w.toFixed(2)),a("#calculated_price").val(w.toFixed(2)),a("#atlas-results").html(`\n                <ul>\n                    <li>\u041f\u0440\u043e\u0444\u0438\u043b \u0416\u0430\u043b\u044e\u0437\u0438: <span>${s.toFixed(2)} \u0431\u0440. / ${r.toFixed(2)} \u043b\u043c</span></li>\n                    <li>\u041f\u0440\u043e\u0444\u0438\u043b U \u043e\u0442\u043b\u044f\u0432\u043e: <span>${c} \u0431\u0440. / ${d.toFixed(3)} \u043b\u043c</span></li>\n                    <li>\u041f\u0440\u043e\u0444\u0438\u043b U \u043e\u0442\u0434\u044f\u0441\u043d\u043e: <span>${u} \u0431\u0440. / ${_.toFixed(3)} \u043b\u043c</span></li>\n                    <li>\u0425\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0435\u043d \u043f\u0440\u043e\u0444\u0438\u043b U: <span>${h} \u0431\u0440. / ${g.toFixed(2)} \u043b\u043c</span></li>\n                    <li>\u0423\u043a\u0440\u0435\u043f\u0432\u0430\u0449 \u043f\u0440\u043e\u0444\u0438\u043b: <span>${f} \u0431\u0440. / ${m.toFixed(3)} \u043b\u043c</span></li>\n                    <li>\u0417\u0430\u043a\u043b\u0435\u043f\u043a\u0438: <span>${v} \u0431\u0440.</span></li>\n                    <li>\u0421\u0430\u043c\u043e\u043d\u0430\u0440\u0435\u0437\u043d\u0438 \u0432\u0438\u043d\u0442\u043e\u0432\u0435: <span>${x} \u0431\u0440.</span></li>\n                    <li>\u0422\u0430\u043f\u0438: <span>${$} \u0431\u0440.</span></li>\n                    <li>\u042a\u0433\u044a\u043b: <span>${b} \u0431\u0440.</span></li>\n                </ul>\n            `),a("#atlas-final-price").html(`<p>\u041a\u0440\u0430\u0439\u043d\u0430 \u0446\u0435\u043d\u0430: ${w.toFixed(2)} \u043b\u0432.</p>`)}catch(c){console.error("An error occurred during calculations: ",c)}}l.on("input",o),i.on("change",o),s.on("input",o),a("input, select").on("input change",(function(){r()?e.prop("disabled",!1):e.prop("disabled",!0)})),a(".main-product-sizes__item").on("click",(function(t){t.preventDefault(),a(".main-product-sizes__item").removeClass("selected"),a(this).addClass("selected");const e=a(this).data("l"),n=a(this).data("h"),r=a(this).data("panels")||1;l.val(e),i.val(n).trigger("change"),s.val(r),o()})),o()}))}}]);
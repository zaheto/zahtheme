"use strict";(self.webpackChunk_roots_bud_sage_sage=self.webpackChunk_roots_bud_sage_sage||[]).push([[326],{"./scripts/atlas-calculator.js":(a,e,t)=>{t.r(e),jQuery(document).ready((function(a){const e=1.9558;a("#atlas-calculator-results").hide(),a(".required-materials--toggle-link").off("click"),a(".required-materials--toggle-link").on("click",(function(e){e.preventDefault(),e.stopPropagation();const t=a("#atlas-calculator-results"),i=a(this).find(".toggle-icon");t.is(":visible")?t.slideUp(300,(function(){t.addClass("hidden").css("display",""),i.text("+")})):t.removeClass("hidden").slideDown(300,(function(){i.text("-")}))})),a("#atlas-calculator-results").on("click",(function(a){a.stopPropagation()})),a(document).off("click.atlasCalculator");const t=a(".inside-product--top-wrap .price"),i=a("button.single_add_to_cart_button"),s=a("#atlas-panel-width"),l=a("#atlas-panel-height"),n=a("#atlas-number-of-panels"),r=a(".main-product-sizes__item.selected");if(r.length){const a=r.data("l"),e=r.data("h"),t=r.data("panels")||1;s.val(a),l.val(e).trigger("change"),n.val(t)}function c(){const a=parseFloat(s.val()),e=parseFloat(l.val()),t=parseInt(n.val());return!isNaN(a)&&!isNaN(e)&&!isNaN(t)&&a>=parseFloat(s.attr("min"))&&a<=parseFloat(s.attr("max"))&&t>0}function p(){if(!c())return;let r=parseFloat(s.val()),p=parseFloat(l.val()),o=parseInt(n.val());try{const s=r.toFixed(2),l=(Math.floor(1e3*p)/1e3).toFixed(3);let n=Math.max((p-.045)/.1*o,0),c=Math.max((r-.01)*n,0),d=o,_=p*o,u=o,g=p*o,h=o,m=r*o,F=0;r>1.29&&r<2.1?F=1:r>2.09&&(F=2);let f=F,b=p*F*o,v=0;if(o>0){let a=0;0==F?a=4*(n/o+1)*o:1==F?a=5*(n/o+1)*o:2==F&&(a=6*(n/o+1)*o),v=100*Math.ceil((a+2*F)/o/100)*o}let x=10*o,$=10*o+F*o,w=F*o,y=parseFloat(atlas_pricing.base_price)*c;y+=_*parseFloat(atlas_pricing.price_u_profile_left||0),y+=g*parseFloat(atlas_pricing.price_u_profile_right||0),y+=m*parseFloat(atlas_pricing.price_u_horizontal_panel||0),y+=b*parseFloat(atlas_pricing.price_reinforcing_profile||0),y+=v*parseFloat(atlas_pricing.price_rivets||0),y+=x*parseFloat(atlas_pricing.price_self_tapping_screw||0),y+=$*parseFloat(atlas_pricing.price_dowels||0),y+=w*parseFloat(atlas_pricing.price_corners||0);let k=y;atlas_pricing.sale_price&&atlas_pricing.sale_price>0&&atlas_pricing.sale_price<atlas_pricing.base_price&&(k=parseFloat(atlas_pricing.sale_price)*c,k+=_*parseFloat(atlas_pricing.price_u_profile_left||0),k+=g*parseFloat(atlas_pricing.price_u_profile_right||0),k+=m*parseFloat(atlas_pricing.price_u_horizontal_panel||0),k+=b*parseFloat(atlas_pricing.price_reinforcing_profile||0),k+=v*parseFloat(atlas_pricing.price_rivets||0),k+=x*parseFloat(atlas_pricing.price_self_tapping_screw||0),k+=$*parseFloat(atlas_pricing.price_dowels||0),k+=w*parseFloat(atlas_pricing.price_corners||0));let P=0;y>0&&k>0&&(P=Math.round(100-k/y*100)),a(".product-badge.sale").text(`-${P}%`);const C=(Math.round(y*e*100)/100).toFixed(2),M=(Math.round(k*e*100)/100).toFixed(2);a("#total_price").val(y.toFixed(2)),a("#discounted_price").val(k.toFixed(2)),atlas_pricing.sale_price&&atlas_pricing.sale_price>0&&atlas_pricing.sale_price<atlas_pricing.base_price?t.html(`\n                    <span class="woocommerce-Price-amount amount" data-bgn-converted="true">\n                        <span class="regular-price-witheuro">\n                            <del class="eur-regular eur-inline">\u20ac${y.toFixed(2)}</del> /\n                            <del>\n                                <bdi>${C}&nbsp;<span class="woocommerce-Price-currencySymbol">\u043b\u0432.</span></bdi>\n                            </del>\n                        </span>\n                        <span class="sale-price-witheuro">\n                            <ins class="eur-sale eur-inline">\u20ac${k.toFixed(2)}</ins> /\n                            <ins>\n                                <bdi>${M}&nbsp;<span class="woocommerce-Price-currencySymbol">\u043b\u0432.</span></bdi>\n                            </ins>\n                        </span>\n                        <span class="custom-text-after-price">(\u0432\u043a\u043b. \u0414\u0414\u0421)</span>\n                    </span>\n                `):t.html(`\n                    <span class="woocommerce-Price-amount amount" data-bgn-converted="true">\n                        <bdi>\u20ac${y.toFixed(2)}&nbsp;<span class="woocommerce-Price-currencySymbol"></span></bdi> /\n                        <bdi>${C}&nbsp;<span class="woocommerce-Price-currencySymbol">\u043b\u0432.</span></bdi>\n                        <span class="custom-text-after-price">(\u0432\u043a\u043b. \u0414\u0414\u0421)</span>\n                    </span>\n                `),a("#calculated_price").val(k.toFixed(2)),a("#atlas_panel_width").val(s),a("#atlas_panel_height").val(l),a("#atlas_number_of_panels").val(o),i.attr("data-calculated-price",k.toFixed(2)),i.attr("data-panel-width",s),i.attr("data-panel-height",l),i.attr("data-panels",o),a("#atlas-results").html(`\n                <ul>\n                    <li>\u041f\u0440\u043e\u0444\u0438\u043b \u0416\u0430\u043b\u044e\u0437\u0438: <span>${n.toFixed(2)} \u0431\u0440. / ${c.toFixed(2)} \u043b\u043c</span></li>\n                    <li>\u041f\u0440\u043e\u0444\u0438\u043b U \u043e\u0442\u043b\u044f\u0432\u043e: <span>${d} \u0431\u0440. / ${_.toFixed(3)} \u043b\u043c</span></li>\n                    <li>\u041f\u0440\u043e\u0444\u0438\u043b U \u043e\u0442\u0434\u044f\u0441\u043d\u043e: <span>${u} \u0431\u0440. / ${g.toFixed(3)} \u043b\u043c</span></li>\n                    <li>\u0425\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0435\u043d \u043f\u0440\u043e\u0444\u0438\u043b U: <span>${h} \u0431\u0440. / ${m.toFixed(2)} \u043b\u043c</span></li>\n                    <li>\u0423\u043a\u0440\u0435\u043f\u0432\u0430\u0449 \u043f\u0440\u043e\u0444\u0438\u043b: <span>${f} \u0431\u0440. / ${b.toFixed(3)} \u043b\u043c</span></li>\n                    <li>\u0417\u0430\u043a\u043b\u0435\u043f\u043a\u0438: <span>${v} \u0431\u0440.</span></li>\n                    <li>\u0421\u0430\u043c\u043e\u043d\u0430\u0440\u0435\u0437\u043d\u0438 \u0432\u0438\u043d\u0442\u043e\u0432\u0435: <span>${x} \u0431\u0440.</span></li>\n                    <li>\u0422\u0430\u043f\u0438: <span>${$} \u0431\u0440.</span></li>\n                    <li>\u042a\u0433\u044a\u043b: <span>${w} \u0431\u0440.</span></li>\n                </ul>\n            `),a("#atlas-final-price").html(`<p>\u041a\u0440\u0430\u0439\u043d\u0430 \u0446\u0435\u043d\u0430: \u20ac${k.toFixed(2)} / ${M} \u043b\u0432.</p>`)}catch(d){console.error("An error occurred during calculations: ",d)}}s.on("input",p),l.on("change",p),n.on("input",p),a("input, select").on("input change",(function(){c()?i.prop("disabled",!1):i.prop("disabled",!0)})),a(".main-product-sizes__item").on("click",(function(e){e.preventDefault(),a(".main-product-sizes__item").removeClass("selected"),a(this).addClass("selected");const t=a(this).data("l"),i=a(this).data("h"),r=a(this).data("panels")||1;s.val(t),l.val(i).trigger("change"),n.val(r),p(),a(".product-badge.sale").each((function(){a(this).data("total-price"),a(this).data("discounted-price");const e=a(this).data("discount-percentage");e>0&&a(this).html(`-${e}%`)}))})),p()}))}}]);
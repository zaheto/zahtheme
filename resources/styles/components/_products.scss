.home .products.columns-6,
.archive .products.columns-6 ,
.page-template-template-new-products .products.columns-6,
.page-template-template-promotions .products.columns-6 {
  @apply grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 grid-rows-1;
}

.home .products.columns-5,
.archive .products.columns-5,
.page-template-template-new-products .products.columns-5,
.page-template-template-promotions .products.columns-5  {
  @apply grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-4 grid-rows-1;
}

.home .products.columns-4,
.archive .products.columns-4,
.page-template-template-new-products .products.columns-4,
.page-template-template-promotions .products.columns-4 {
  @apply grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-4 grid-rows-1;
}

.products {
  @apply flex flex-wrap -mx-[0.5%];
}

.products .product,
.swiper-products .product {
  @apply relative min-h-full rounded-md flex flex-col bg-white  mt-0 pt-0 transition-all duration-200 hover:transition-all hover:duration-200 hover:shadow-xl hover:z-20 ;
}

.products .product .product-loop--container,
.swiper-products .product .product-loop--container {
  @apply relative flex min-h-full flex-col flex-1 w-full justify-between ;
}

.products .product .product-loop-title-container,
.swiper-products .product .product-loop-title-container {
  @apply flex gap-1  items-start  flex-col w-full;
}

.products .product .product-loop-title-container h2,
.swiper-products .product .product-loop-title-container h2 {
  @apply text-left text-black text-15 leading-4 font-medium mt-2;
}

.products .product .product-sku,
.swiper-products .product .product-sku {
  @apply text-black/60 text-13 block pb-1 uppercase;
}

.products .product .woocommerce-LoopProduct-link,
.swiper-products .product .woocommerce-LoopProduct-link {
  @apply flex flex-col items-start justify-center content-center w-full overflow-hidden text-left leading-tight font-semibold text-black;
}

.products .product .woocommerce-LoopProduct-link img,
.swiper-products .product .woocommerce-LoopProduct-link img {
  @apply w-full p-2;
}

.products .product .woocommerce-card__header,
.swiper-products .product .woocommerce-card__header {
  @apply px-4 pt-0 pb-4 w-full;
}

.woocommerce-loop-product__title {
  @apply text-14 font-Inter text-left mt-2  block  w-full;
}

.products .product .button,
.swiper-products .product .button {
  @apply w-full border-none bg-main/20 text-main hover:bg-main hover:text-white py-1.5 px-2 whitespace-nowrap transition-all duration-200 ;
}

.woocommerce-cart .products.columns-2  {
  @apply block;
}

.products .product,
.swiper-products .product  {
  .price {
    @apply flex flex-row items-center content-center justify-center mb-0 text-14;

    .woocommerce-Price-amount.amount bdi,
    ins .woocommerce-Price-amount.amount bdi,
    ins  {
      @apply text-center  text-14 no-underline font-bold text-main;
    }

    ins  {
      @apply text-center ml-2 text-14 no-underline font-bold text-main;
    }

    del .woocommerce-Price-amount.amount bdi,
    del {
      @apply text-black text-center font-medium text-14 opacity-70;
    }
  }
}

.product-additional-sections .product-list-builder {
  @apply py-16;
}

.product-additional-sections .product-list-builder h2 {
  @apply text-black uppercase font-black text-22 md:text-32 xl:text-40 text-center mb-2 md:mb-6 relative  inline-block mx-auto;
}

.products.is-grid .swiper-wrapper,
.product-list-builder .is-grid .swiper-wrapper,
.products.is-grid  {
  @apply grid gap-4 w-full;
}

.products.is-grid .swiper-slide {
  @apply w-full mr-0;
}

.products.is-grid[data-products-count="4"] .swiper-wrapper,
.product-list-builder .is-grid[data-products-count="4"] .swiper-wrapper,
.products.is-grid.products.columns-4 {
  @apply grid-cols-4;
}

.products.is-grid[data-products-count="5"] .swiper-wrapper,
.product-list-builder .is-grid[data-products-count="5"] .swiper-wrapper,
.products.is-grid.columns-5   {
  @apply grid-cols-5;
}

.products .product .predefined-size .fence-price {
  @apply m-0  p-0;
}

.products .product .predefined-size .fence-data {
  @apply block text-13 text-third/80;
}

.products.is-grid .swiper-pagination,
.products.is-grid .small-swiper-button-prev,
.products.is-grid .small-swiper-button-next {
  @apply hidden;
}

.products.is-grid .swiper-slide .product {
  @apply w-full;
}

.product-list-builder .is-grid .product-list-builder--pagination {
  @apply mt-6 gap-2 hidden w-full h-6 relative items-center content-center justify-center;
}

.product-list-builder .is-slider .product-list-builder--pagination {
  @apply flex items-center justify-center;
}

/* Keep the existing desktop styles */
.cross-sells,
.related.products,
.upsells.products {
  @apply block text-center relative pt-10 md:pt-16 pb-2 md:pb-14 bg-white;
  @apply before:content-[''] before:block before:absolute before:top-0 before:bottom-0 before:-left-full before:w-full before:bg-white;
  @apply after:block after:absolute after:top-0 after:bottom-0 after:-right-full after:w-full after:bg-white;
}

.cross-sells h2 ,
.related.products h2,
.upsells.products h2 {
  @apply text-black text-22 md:text-32 xl:text-40 font-black uppercase mb-6;
}

.related.products {
  @apply bg-[#f2f2f2] before:bg-[#f2f2f2] after:bg-[#f2f2f2];
}
/* Base styles */
.related-wrapper {
  @apply w-full;
}

.related.products ul.products {
 @apply md:grid md:grid-cols-4 md:gap-4 w-full md:mx-0 relative z-100;
}

.related.products ul.products li.product {
  position: relative;
  padding-right: 15px;
  padding-left: 15px;

  list-style: none;
}

.related.products ul.products li.product .product-loop--container {
  background: white;
  height: 100%;
  display: flex;
  flex-direction: column;
}


/* Mobile styles */
@media (max-width: 992px) {
  .related-wrapper {
    margin-left: -15px;
    margin-right: -15px;
    padding: 0 15px;
    width: calc(100% + 30px);
  }

  .related.products ul.products {
    display: flex !important; /* Force flex display */
    overflow-x: auto;
    flex-wrap: nowrap;
    -webkit-overflow-scrolling: touch;
    padding: 5px 1em 20px 1.25em;
    margin-left: -15px;
    margin-right: -15px;
    scroll-snap-type: x mandatory;
    overscroll-behavior-x: contain;
    width: calc(100% + 1.95em);
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }

  .related.products ul.products::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  .related.products ul.products li.product {
    display: flex !important; /* Force flex display */
    max-width: 280px;
    min-width: 280px;
    flex-direction: column;
    scroll-snap-align: center;
    padding: 0;
    margin-right: 15px;
    flex-shrink: 0; /* Prevent products from shrinking */
  }

  .related.products ul.products li.product:last-child {
    margin-right: 1.25em; /* Add padding at the end for better scrolling */
  }

  .related.products ul.products li.product .product-loop--container {
    width: 100%;
    margin: 0;
    padding: 10px;
    border-radius: 12px;
  }
}

/* Ensure proper image sizing */
.related.products ul.products li.product img {
  width: 100%;
  height: auto;
  display: block;
}

/* Fix for any potential conflicts */
@media (max-width: 992px) {
  .related.products ul.products {
    grid-template-columns: none !important; /* Override any grid settings */
    display: flex !important;
  }
}